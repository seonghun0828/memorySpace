{"ast":null,"code":"const clickHandler = event => {\n  const editMenu = document.querySelector('.edit-menu');\n  if (!editMenu) return; // 이미 어느 img가 클릭 되어 edit menu가 보이는 상태면 함수 종료\n\n  if (!editMenu.classList.contains('invisible')) return;\n  event.target.parentNode.appendChild(editMenu);\n  event.target.classList.toggle('clicked-img');\n  editMenu.classList.toggle('invisible');\n  const contentsDiv = event.target.parentNode.parentNode.parentNode;\n  contentsDiv.clicked_id = event.target.id;\n};\n\nconst addMovie = (img_url, movieList, img_memo) => {\n  let id_num;\n  console.log(movieList);\n  if (movieList === []) console.log('비었어');\n  if (movieList.length === 0) id_num = 0;else id_num = movieList[movieList.length - 1].id + 1;\n  const contents = document.querySelector('.contents-div');\n  if (!contents) return;\n  const movieDiv = contents.children[0];\n  const newDiv = document.createElement('div');\n  const newImg = document.createElement('img');\n  newDiv.appendChild(newImg);\n  newDiv.classList.add('img-div');\n  newImg.id = id_num;\n  newImg.src = img_url;\n  newImg.classList.add('movie-img');\n  newImg.addEventListener('click', clickHandler);\n  if (typeof img_memo === 'undefined') img_memo = '';\n  const obj = {\n    id: id_num,\n    data: img_url,\n    memo: img_memo\n  };\n  movieList.push(obj);\n  saveImg('movie', movieList);\n  movieDiv.appendChild(newDiv);\n};\n\nconst addBook = (img_url, bookList, img_memo) => {\n  let id_num;\n  if (bookList.length === 0) id_num = 0;else id_num = bookList[bookList.length - 1].id + 1;\n  const contents = document.querySelector('.contents-div');\n  if (!contents) return;\n  const bookDiv = contents.children[0];\n  const newDiv = document.createElement('div');\n  const newImg = document.createElement('img');\n  newDiv.appendChild(newImg);\n  newDiv.classList.add('img-div');\n  newImg.id = id_num;\n  newImg.src = img_url;\n  newImg.classList.add('book-img');\n  newImg.addEventListener('click', clickHandler);\n  if (typeof img_memo === 'undefined') img_memo = '';\n  const obj = {\n    id: id_num,\n    data: img_url,\n    memo: img_memo\n  };\n  bookList.push(obj);\n  saveImg('book', bookList);\n  bookDiv.appendChild(newDiv);\n};\n\nconst saveImg = (arg, list) => {\n  const category = arg === 'book' ? 'book' : 'movie';\n  localStorage.setItem(category, JSON.stringify(list));\n};\n\nconst loadImg = () => {\n  const contents = document.querySelector('.contents-div');\n  if (!contents) return;\n  const content = contents.children[0]; // book-div or movie-div\n\n  if (content.classList.contains('book-div')) {\n    const book_data = JSON.parse(localStorage.getItem('book'));\n\n    if (book_data !== null) {\n      const bookList = [];\n      book_data.forEach(a => {\n        addBook(a.data, bookList, a.memo);\n      });\n    }\n  }\n\n  if (content.classList.contains('movie-div')) {\n    const movie_data = JSON.parse(localStorage.getItem('movie'));\n\n    if (movie_data !== null) {\n      const movieList = [];\n      movie_data.forEach(a => {\n        addMovie(a.data, movieList, a.memo);\n      });\n    }\n  }\n};\n\nconst funcs = {\n  loadImg,\n  saveImg,\n  addBook,\n  addMovie\n};\nexport const Functions = () => {\n  return funcs;\n};\n_c = Functions;\n\nvar _c;\n\n$RefreshReg$(_c, \"Functions\");","map":{"version":3,"sources":["/Users/hoon/Documents/memory_space/src/home/body/Functions.js"],"names":["clickHandler","event","editMenu","document","querySelector","classList","contains","target","parentNode","appendChild","toggle","contentsDiv","clicked_id","id","addMovie","img_url","movieList","img_memo","id_num","console","log","length","contents","movieDiv","children","newDiv","createElement","newImg","add","src","addEventListener","obj","data","memo","push","saveImg","addBook","bookList","bookDiv","arg","list","category","localStorage","setItem","JSON","stringify","loadImg","content","book_data","parse","getItem","forEach","a","movie_data","funcs","Functions"],"mappings":"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","sourcesContent":["const clickHandler = (event) => {\n  const editMenu = document.querySelector('.edit-menu');\n  if (!editMenu) return;\n  // 이미 어느 img가 클릭 되어 edit menu가 보이는 상태면 함수 종료\n  if (!editMenu.classList.contains('invisible')) return;\n  event.target.parentNode.appendChild(editMenu);\n  event.target.classList.toggle('clicked-img');\n  editMenu.classList.toggle('invisible');\n  const contentsDiv = event.target.parentNode.parentNode.parentNode;\n  contentsDiv.clicked_id = event.target.id;\n};\n\nconst addMovie = (img_url, movieList, img_memo) => {\n  let id_num;\n  console.log(movieList);\n  if (movieList === []) console.log('비었어');\n  if (movieList.length === 0) id_num = 0;\n  else id_num = movieList[movieList.length - 1].id + 1;\n  const contents = document.querySelector('.contents-div');\n  if (!contents) return;\n  const movieDiv = contents.children[0];\n  const newDiv = document.createElement('div');\n  const newImg = document.createElement('img');\n  newDiv.appendChild(newImg);\n  newDiv.classList.add('img-div');\n  newImg.id = id_num;\n  newImg.src = img_url;\n  newImg.classList.add('movie-img');\n  newImg.addEventListener('click', clickHandler);\n  if (typeof img_memo === 'undefined') img_memo = '';\n  const obj = {\n    id: id_num,\n    data: img_url,\n    memo: img_memo,\n  };\n  movieList.push(obj);\n  saveImg('movie', movieList);\n  movieDiv.appendChild(newDiv);\n};\n\nconst addBook = (img_url, bookList, img_memo) => {\n  let id_num;\n  if (bookList.length === 0) id_num = 0;\n  else id_num = bookList[bookList.length - 1].id + 1;\n  const contents = document.querySelector('.contents-div');\n  if (!contents) return;\n  const bookDiv = contents.children[0];\n  const newDiv = document.createElement('div');\n  const newImg = document.createElement('img');\n  newDiv.appendChild(newImg);\n  newDiv.classList.add('img-div');\n  newImg.id = id_num;\n  newImg.src = img_url;\n  newImg.classList.add('book-img');\n  newImg.addEventListener('click', clickHandler);\n  if (typeof img_memo === 'undefined') img_memo = '';\n  const obj = {\n    id: id_num,\n    data: img_url,\n    memo: img_memo,\n  };\n  bookList.push(obj);\n  saveImg('book', bookList);\n  bookDiv.appendChild(newDiv);\n};\nconst saveImg = (arg, list) => {\n  const category = arg === 'book' ? 'book' : 'movie';\n  localStorage.setItem(category, JSON.stringify(list));\n};\n\nconst loadImg = () => {\n  const contents = document.querySelector('.contents-div');\n  if (!contents) return;\n  const content = contents.children[0]; // book-div or movie-div\n  if (content.classList.contains('book-div')) {\n    const book_data = JSON.parse(localStorage.getItem('book'));\n    if (book_data !== null) {\n      const bookList = [];\n      book_data.forEach((a) => {\n        addBook(a.data, bookList, a.memo);\n      });\n    }\n  }\n  if (content.classList.contains('movie-div')) {\n    const movie_data = JSON.parse(localStorage.getItem('movie'));\n    if (movie_data !== null) {\n      const movieList = [];\n      movie_data.forEach((a) => {\n        addMovie(a.data, movieList, a.memo);\n      });\n    }\n  }\n};\n\nconst funcs = {\n  loadImg,\n  saveImg,\n  addBook,\n  addMovie,\n};\n\nexport const Functions = () => {\n  return funcs;\n};\n"]},"metadata":{},"sourceType":"module"}