{"ast":null,"code":"var clickHandler=function clickHandler(event){var editMenu=document.querySelector('.edit-menu');if(!editMenu)return;// 이미 어느 img가 클릭 되어 edit menu가 보이는 상태면 함수 종료\nif(!editMenu.classList.contains('invisible'))return;event.target.parentNode.appendChild(editMenu);event.target.classList.toggle('clicked-img');editMenu.classList.toggle('invisible');var contentsDiv=event.target.parentNode.parentNode.parentNode;// clicked id 임시방편 나중에 바꾸기\ncontentsDiv.clicked_id=event.target.id;};var addMovie=function addMovie(img_url,movieList,img_memo){var id_num;if(movieList.length===0)id_num=0;else id_num=movieList[movieList.length-1].id+1;var contents=document.querySelector('.contents-div');if(!contents)return;var movieDiv=contents.children[0];var newDiv=document.createElement('div');var newImg=document.createElement('img');newDiv.appendChild(newImg);newDiv.classList.add('img-div');newImg.id=id_num;newImg.src=img_url;newImg.classList.add('movie-img');newImg.addEventListener('click',clickHandler);if(typeof img_memo==='undefined')img_memo='';var obj={id:id_num,data:img_url,memo:img_memo};movieList.push(obj);saveImg('movie',movieList);movieDiv.appendChild(newDiv);};var addBook=function addBook(img_url,bookList,img_memo){var id_num;if(bookList.length===0)id_num=0;else id_num=bookList[bookList.length-1].id+1;var contents=document.querySelector('.contents-div');if(!contents)return;var bookDiv=contents.children[0];var newDiv=document.createElement('div');var newImg=document.createElement('img');newDiv.appendChild(newImg);newDiv.classList.add('img-div');newImg.id=id_num;newImg.src=img_url;newImg.classList.add('book-img');newImg.addEventListener('click',clickHandler);if(typeof img_memo==='undefined')img_memo='';var obj={id:id_num,data:img_url,memo:img_memo};bookList.push(obj);saveImg('book',bookList);bookDiv.appendChild(newDiv);};var saveImg=function saveImg(arg,list){var category=arg==='book'?'book':'movie';localStorage.setItem(category,JSON.stringify(list));};var loadImg=function loadImg(){var contents=document.querySelector('.contents-div');if(!contents)return;var content=contents.children[0];// book-div or movie-div\nif(content.classList.contains('book-div')){var book_data=JSON.parse(localStorage.getItem('book'));if(book_data!==null){var bookList=[];book_data.forEach(function(a){addBook(a.data,bookList,a.memo);});}}if(content.classList.contains('movie-div')){var movie_data=JSON.parse(localStorage.getItem('movie'));if(movie_data!==null){var movieList=[];movie_data.forEach(function(a){addMovie(a.data,movieList,a.memo);});}}};var funcs={loadImg:loadImg,saveImg:saveImg,addBook:addBook,addMovie:addMovie};export var Functions=function Functions(){return funcs;};","map":{"version":3,"sources":["/Users/hoon/Documents/memory_space/src/home/body/Functions.js"],"names":["clickHandler","event","editMenu","document","querySelector","classList","contains","target","parentNode","appendChild","toggle","contentsDiv","clicked_id","id","addMovie","img_url","movieList","img_memo","id_num","length","contents","movieDiv","children","newDiv","createElement","newImg","add","src","addEventListener","obj","data","memo","push","saveImg","addBook","bookList","bookDiv","arg","list","category","localStorage","setItem","JSON","stringify","loadImg","content","book_data","parse","getItem","forEach","a","movie_data","funcs","Functions"],"mappings":"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","sourcesContent":["const clickHandler = (event) => {\n  const editMenu = document.querySelector('.edit-menu');\n  if (!editMenu) return;\n  // 이미 어느 img가 클릭 되어 edit menu가 보이는 상태면 함수 종료\n  if (!editMenu.classList.contains('invisible')) return;\n  event.target.parentNode.appendChild(editMenu);\n  event.target.classList.toggle('clicked-img');\n  editMenu.classList.toggle('invisible');\n  const contentsDiv = event.target.parentNode.parentNode.parentNode;\n  // clicked id 임시방편 나중에 바꾸기\n  contentsDiv.clicked_id = event.target.id;\n};\n\nconst addMovie = (img_url, movieList, img_memo) => {\n  let id_num;\n  if (movieList.length === 0) id_num = 0;\n  else id_num = movieList[movieList.length - 1].id + 1;\n  const contents = document.querySelector('.contents-div');\n  if (!contents) return;\n  const movieDiv = contents.children[0];\n  const newDiv = document.createElement('div');\n  const newImg = document.createElement('img');\n  newDiv.appendChild(newImg);\n  newDiv.classList.add('img-div');\n  newImg.id = id_num;\n  newImg.src = img_url;\n  newImg.classList.add('movie-img');\n  newImg.addEventListener('click', clickHandler);\n  if (typeof img_memo === 'undefined') img_memo = '';\n  const obj = {\n    id: id_num,\n    data: img_url,\n    memo: img_memo,\n  };\n  movieList.push(obj);\n  saveImg('movie', movieList);\n  movieDiv.appendChild(newDiv);\n};\n\nconst addBook = (img_url, bookList, img_memo) => {\n  let id_num;\n  if (bookList.length === 0) id_num = 0;\n  else id_num = bookList[bookList.length - 1].id + 1;\n  const contents = document.querySelector('.contents-div');\n  if (!contents) return;\n  const bookDiv = contents.children[0];\n  const newDiv = document.createElement('div');\n  const newImg = document.createElement('img');\n  newDiv.appendChild(newImg);\n  newDiv.classList.add('img-div');\n  newImg.id = id_num;\n  newImg.src = img_url;\n  newImg.classList.add('book-img');\n  newImg.addEventListener('click', clickHandler);\n  if (typeof img_memo === 'undefined') img_memo = '';\n  const obj = {\n    id: id_num,\n    data: img_url,\n    memo: img_memo,\n  };\n  bookList.push(obj);\n  saveImg('book', bookList);\n  bookDiv.appendChild(newDiv);\n};\nconst saveImg = (arg, list) => {\n  const category = arg === 'book' ? 'book' : 'movie';\n  localStorage.setItem(category, JSON.stringify(list));\n};\n\nconst loadImg = () => {\n  const contents = document.querySelector('.contents-div');\n  if (!contents) return;\n  const content = contents.children[0]; // book-div or movie-div\n  if (content.classList.contains('book-div')) {\n    const book_data = JSON.parse(localStorage.getItem('book'));\n    if (book_data !== null) {\n      const bookList = [];\n      book_data.forEach((a) => {\n        addBook(a.data, bookList, a.memo);\n      });\n    }\n  }\n  if (content.classList.contains('movie-div')) {\n    const movie_data = JSON.parse(localStorage.getItem('movie'));\n    if (movie_data !== null) {\n      const movieList = [];\n      movie_data.forEach((a) => {\n        addMovie(a.data, movieList, a.memo);\n      });\n    }\n  }\n};\n\nconst funcs = {\n  loadImg,\n  saveImg,\n  addBook,\n  addMovie,\n};\n\nexport const Functions = () => {\n  return funcs;\n};\n"]},"metadata":{},"sourceType":"module"}