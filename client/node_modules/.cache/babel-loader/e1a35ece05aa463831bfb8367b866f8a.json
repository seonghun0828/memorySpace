{"ast":null,"code":"var _jsxFileName = \"/Users/hoon/Documents/memory_space/src/home/body/MemoSpace.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { Functions } from './Functions';\nimport './MemoSpace.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst removeAlarm = memoNav => {\n  memoNav.removeChild(memoNav.lastChild);\n};\n\nconst addAlarm = () => {\n  const memoNav = document.querySelector('.memo-nav'); // deleteBtn, space, saveBtn, space => 4개\n\n  if (memoNav.childNodes.length !== 4) return;\n  const alarm = document.createElement('span');\n  alarm.classList.add('savingMemoAlarm');\n  alarm.innerText = '저장되었습니다';\n  memoNav.appendChild(alarm);\n  setTimeout(() => removeAlarm(memoNav), 2000);\n};\n\nconst saveMemo = (category, id) => {\n  const contents = document.querySelector('.contents-div');\n  const memoSpace = document.querySelector('.memo-space').children[0];\n  if (!contents) return;\n\n  if (category === 'book') {\n    const book_data = JSON.parse(localStorage.getItem('book'));\n    const index = Object.keys(book_data).find(key => book_data[key].id === parseInt(id));\n    book_data[index].memo = memoSpace.value;\n    Functions().saveImg(category, book_data);\n  } else {\n    const movie_data = JSON.parse(localStorage.getItem('movie'));\n    const index = Object.keys(movie_data).find(key => movie_data[key].id === parseInt(id));\n    movie_data[index].memo = memoSpace.value;\n    Functions().saveImg(category, movie_data);\n  }\n\n  addAlarm();\n};\n\nconst readMemo = (category, id) => {\n  const memoSpace = document.querySelector('.memo-space');\n  const textArea = memoSpace.children[0];\n  const data = JSON.parse(localStorage.getItem(category));\n  const index = Object.keys(data).find(key => data[key].id === parseInt(id));\n  textArea.value = data[index].memo;\n};\n\nconst MemoSpace = props => {\n  _s();\n\n  const prop_state = props.location.state;\n  const category = prop_state.category;\n  useEffect(() => {\n    console.log(document.querySelector('.contents-div'));\n    const id = document.querySelector('.contents-div').clicked_id;\n    const saveBtn = document.querySelector('.save-btn');\n    readMemo(category, id);\n    saveBtn.addEventListener('click', () => saveMemo(category, id));\n    return saveBtn.removeEventListener('click', () => saveMemo(category, id));\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"memo-div\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"memo-nav\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"close-btn\",\n        onClick: props.history.goBack,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"images/close-button.png\",\n          alt: \"close\",\n          className: \"close-btn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), \"\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"save-btn\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"images/check-mark.png\",\n          alt: \"save\",\n          className: \"save-btn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), \"\\xA0\\xA0\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"memo-space\",\n      children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n        spellCheck: \"false\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MemoSpace, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = MemoSpace;\nexport default MemoSpace;\n\nvar _c;\n\n$RefreshReg$(_c, \"MemoSpace\");","map":{"version":3,"sources":["/Users/hoon/Documents/memory_space/src/home/body/MemoSpace.js"],"names":["React","useEffect","Functions","removeAlarm","memoNav","removeChild","lastChild","addAlarm","document","querySelector","childNodes","length","alarm","createElement","classList","add","innerText","appendChild","setTimeout","saveMemo","category","id","contents","memoSpace","children","book_data","JSON","parse","localStorage","getItem","index","Object","keys","find","key","parseInt","memo","value","saveImg","movie_data","readMemo","textArea","data","MemoSpace","props","prop_state","location","state","console","log","clicked_id","saveBtn","addEventListener","removeEventListener","history","goBack"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { Functions } from './Functions';\nimport './MemoSpace.css';\n\nconst removeAlarm = (memoNav) => {\n  memoNav.removeChild(memoNav.lastChild);\n};\nconst addAlarm = () => {\n  const memoNav = document.querySelector('.memo-nav');\n  // deleteBtn, space, saveBtn, space => 4개\n  if (memoNav.childNodes.length !== 4) return;\n  const alarm = document.createElement('span');\n  alarm.classList.add('savingMemoAlarm');\n  alarm.innerText = '저장되었습니다';\n  memoNav.appendChild(alarm);\n  setTimeout(() => removeAlarm(memoNav), 2000);\n};\n\nconst saveMemo = (category, id) => {\n  const contents = document.querySelector('.contents-div');\n  const memoSpace = document.querySelector('.memo-space').children[0];\n  if (!contents) return;\n  if (category === 'book') {\n    const book_data = JSON.parse(localStorage.getItem('book'));\n    const index = Object.keys(book_data).find(\n      (key) => book_data[key].id === parseInt(id)\n    );\n    book_data[index].memo = memoSpace.value;\n    Functions().saveImg(category, book_data);\n  } else {\n    const movie_data = JSON.parse(localStorage.getItem('movie'));\n    const index = Object.keys(movie_data).find(\n      (key) => movie_data[key].id === parseInt(id)\n    );\n    movie_data[index].memo = memoSpace.value;\n    Functions().saveImg(category, movie_data);\n  }\n  addAlarm();\n};\n\nconst readMemo = (category, id) => {\n  const memoSpace = document.querySelector('.memo-space');\n  const textArea = memoSpace.children[0];\n  const data = JSON.parse(localStorage.getItem(category));\n  const index = Object.keys(data).find((key) => data[key].id === parseInt(id));\n  textArea.value = data[index].memo;\n};\n\nconst MemoSpace = (props) => {\n  const prop_state = props.location.state;\n  const category = prop_state.category;\n  useEffect(() => {\n    console.log(document.querySelector('.contents-div'));\n    const id = document.querySelector('.contents-div').clicked_id;\n    const saveBtn = document.querySelector('.save-btn');\n    readMemo(category, id);\n    saveBtn.addEventListener('click', () => saveMemo(category, id));\n    return saveBtn.removeEventListener('click', () => saveMemo(category, id));\n  });\n  return (\n    <div className=\"memo-div\">\n      <div className=\"memo-nav\">\n        <span className=\"close-btn\" onClick={props.history.goBack}>\n          <img\n            src=\"images/close-button.png\"\n            alt=\"close\"\n            className=\"close-btn\"\n          />\n        </span>\n        &nbsp;&nbsp;\n        <span className=\"save-btn\">\n          <img src=\"images/check-mark.png\" alt=\"save\" className=\"save-btn\" />\n        </span>\n        &nbsp;&nbsp;\n      </div>\n      <div className=\"memo-space\">\n        <textarea spellCheck=\"false\"></textarea>\n      </div>\n    </div>\n  );\n};\n\nexport default MemoSpace;\n"]},"metadata":{},"sourceType":"module"}